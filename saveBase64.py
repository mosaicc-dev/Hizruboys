import os
import base64
from datetime import datetime

# Ensure the "image" folder exists
os.makedirs("image", exist_ok=True)

# Your base64 string (remove the data prefix before decoding)
base64_string = """data:image/jpeg;base64,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"""

# Remove the "data:image/jpeg;base64," part
if "," in base64_string:
    base64_string = base64_string.split(",")[1]

# Decode the Base64 string
image_data = base64.b64decode(base64_string)

# Generate filename with timestamp
timestamp = datetime.now().strftime("%Y%m%d%H%M%S")
file_path = os.path.join("image", f"{timestamp}.jpg")  # Save as JPG

# Save the image
with open(file_path, "wb") as image_file:
    image_file.write(image_data)

print(f"Image saved as {file_path}")
